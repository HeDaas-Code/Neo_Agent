# æ™ºèƒ½ä½“ä¼ªè§†è§‰åŠŸèƒ½è¯´æ˜æ–‡æ¡£

## åŠŸèƒ½æ¦‚è¿°

æ™ºèƒ½ä½“ä¼ªè§†è§‰æ˜¯ä¸€ä¸ªåˆ›æ–°çš„åŠŸèƒ½ï¼Œå®ƒé€šè¿‡è¯»å–æ•°æ®åº“ä¸­é¢„è®¾çš„ç¯å¢ƒæè¿°æ¥æ¨¡æ‹Ÿæ™ºèƒ½ä½“çš„è§†è§‰æ„ŸçŸ¥èƒ½åŠ›ã€‚å½“ç”¨æˆ·è¯¢é—®æœ‰å…³å‘¨å›´ç¯å¢ƒçš„é—®é¢˜æ—¶ï¼Œæ™ºèƒ½ä½“ä¼šè‡ªåŠ¨å†³å®šæ˜¯å¦ä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œå¹¶åŸºäºç¯å¢ƒæè¿°ç»™å‡ºæ›´çœŸå®ã€æ›´å…·ä½“çš„å›ç­”ã€‚

## æ ¸å¿ƒç‰¹æ€§

### 1. æ™ºèƒ½è§¦å‘æœºåˆ¶
- **è‡ªåŠ¨æ£€æµ‹**: ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«15+ä¸ªç¯å¢ƒç›¸å…³å…³é”®è¯
- **å…³é”®è¯åˆ—è¡¨**: 
  - ç©ºé—´è¯: å‘¨å›´ã€å‘¨è¾¹ã€é™„è¿‘ã€è¿™é‡Œã€æ—è¾¹ã€èº«è¾¹
  - ä½ç½®è¯: å“ªé‡Œã€ä»€ä¹ˆåœ°æ–¹ã€æˆ¿é—´ã€å±‹å­ã€åœ°æ–¹
  - æ„ŸçŸ¥è¯: çœ‹åˆ°ã€çœ‹è§ã€è§‚å¯Ÿã€çœ¼å‰ã€é¢å‰
  - æè¿°è¯: ç¯å¢ƒã€åœºæ™¯ã€æ™¯è‰²ã€é£æ™¯
  - ç–‘é—®è¯: æœ‰ä»€ä¹ˆã€æœ‰å“ªäº›ã€èƒ½çœ‹åˆ°ã€å¯ä»¥çœ‹åˆ°

### 2. ç»“æ„åŒ–ç¯å¢ƒæè¿°
ç¯å¢ƒæè¿°é‡‡ç”¨ä¸¤å±‚ç»“æ„ï¼Œæä¾›ä¸°å¯Œçš„æ„Ÿå®˜ä¿¡æ¯ï¼š

#### ç¯å¢ƒæ•´ä½“å±‚
- **ç¯å¢ƒåç§°**: å¦‚"å°å¯çš„æˆ¿é—´"
- **æ•´ä½“æè¿°**: ç¯å¢ƒçš„æ€»ä½“å¤–è§‚å’Œå¸ƒå±€
- **æ°›å›´**: ç¯å¢ƒçš„æ•´ä½“æ„Ÿè§‰ï¼ˆæ¸©é¦¨ã€å®é™ç­‰ï¼‰
- **å…‰ç…§**: å…‰çº¿æƒ…å†µï¼ˆè‡ªç„¶å…‰ã€ç¯å…‰ç­‰ï¼‰
- **å£°éŸ³**: ç¯å¢ƒä¸­çš„å£°éŸ³ï¼ˆé¸Ÿé¸£ã€é£å£°ç­‰ï¼‰
- **æ°”å‘³**: ç¯å¢ƒä¸­çš„æ°”å‘³ï¼ˆä¹¦é¦™ã€èŠ±é¦™ç­‰ï¼‰

#### ç‰©ä½“è¯¦ç»†å±‚
æ¯ä¸ªç‰©ä½“åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
- **åç§°**: ç‰©ä½“çš„åç§°
- **æè¿°**: ç‰©ä½“çš„è¯¦ç»†æè¿°
- **ä½ç½®**: ç‰©ä½“åœ¨ç¯å¢ƒä¸­çš„ä½ç½®
- **å±æ€§**: ç‰©ä½“çš„ç‰¹æ€§ï¼ˆæè´¨ã€é¢œè‰²ã€çŠ¶æ€ç­‰ï¼‰
- **äº¤äº’æç¤º**: å¯ä»¥å¯¹ç‰©ä½“è¿›è¡Œçš„æ“ä½œ
- **ä¼˜å…ˆçº§**: 0-100ï¼Œå†³å®šæ˜¾ç¤ºé¡ºåºï¼ˆè¶Šé«˜è¶Šé‡è¦ï¼‰
- **å¯è§æ€§**: æ§åˆ¶ç‰©ä½“æ˜¯å¦å¯¹æ™ºèƒ½ä½“å¯è§

### 3. æ•°æ®åº“ç®¡ç†

ç³»ç»Ÿä½¿ç”¨SQLiteæ•°æ®åº“ç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ•°æ®ï¼š

#### æ•°æ®è¡¨ç»“æ„

**environment_descriptions è¡¨**
```sql
- uuid: ç¯å¢ƒå”¯ä¸€æ ‡è¯†
- name: ç¯å¢ƒåç§°
- overall_description: æ•´ä½“æè¿°
- atmosphere: æ°›å›´
- lighting: å…‰ç…§
- sounds: å£°éŸ³
- smells: æ°”å‘³
- is_active: æ˜¯å¦æ¿€æ´»ï¼ˆåªæœ‰ä¸€ä¸ªç¯å¢ƒå¯ä»¥æ¿€æ´»ï¼‰
- created_at: åˆ›å»ºæ—¶é—´
- updated_at: æ›´æ–°æ—¶é—´
```

**environment_objects è¡¨**
```sql
- uuid: ç‰©ä½“å”¯ä¸€æ ‡è¯†
- environment_uuid: æ‰€å±ç¯å¢ƒID
- name: ç‰©ä½“åç§°
- description: ç‰©ä½“æè¿°
- position: ä½ç½®
- properties: å±æ€§ï¼ˆJSONæ ¼å¼ï¼‰
- interaction_hints: äº¤äº’æç¤º
- priority: ä¼˜å…ˆçº§ï¼ˆ0-100ï¼‰
- is_visible: æ˜¯å¦å¯è§
- created_at: åˆ›å»ºæ—¶é—´
- updated_at: æ›´æ–°æ—¶é—´
```

**vision_tool_logs è¡¨**
```sql
- uuid: æ—¥å¿—å”¯ä¸€æ ‡è¯†
- query: ç”¨æˆ·æŸ¥è¯¢
- environment_uuid: ä½¿ç”¨çš„ç¯å¢ƒID
- objects_viewed: æŸ¥çœ‹çš„ç‰©ä½“åˆ—è¡¨
- context_provided: æä¾›çš„ä¸Šä¸‹æ–‡æ‘˜è¦
- triggered_by: è§¦å‘æ–¹å¼ï¼ˆauto/manualï¼‰
- created_at: åˆ›å»ºæ—¶é—´
```

## ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

#### æ–¹æ³•1: ä½¿ç”¨é»˜è®¤ç¯å¢ƒ

1. å¯åŠ¨GUIï¼š
```bash
python gui_enhanced.py
```

2. åˆ‡æ¢åˆ°"ğŸ‘ï¸ ç¯å¢ƒç®¡ç†"æ ‡ç­¾é¡µ

3. ç‚¹å‡»"ğŸ  åˆ›å»ºé»˜è®¤ç¯å¢ƒ"æŒ‰é’®

4. ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»º"å°å¯çš„æˆ¿é—´"ï¼ŒåŒ…å«7ä¸ªé¢„è®¾ç‰©ä½“ï¼š
   - ä¹¦æ¡Œï¼ˆä¼˜å…ˆçº§90ï¼‰
   - ä¹¦æ¶ï¼ˆä¼˜å…ˆçº§85ï¼‰
   - ç¬”è®°æœ¬ç”µè„‘ï¼ˆä¼˜å…ˆçº§85ï¼‰
   - åºŠï¼ˆä¼˜å…ˆçº§80ï¼‰
   - çª—æˆ·ï¼ˆä¼˜å…ˆçº§75ï¼‰
   - å°ç¯ï¼ˆä¼˜å…ˆçº§70ï¼‰
   - æŒ‚é’Ÿï¼ˆä¼˜å…ˆçº§60ï¼‰

5. åœ¨èŠå¤©çª—å£ä¸­è¯¢é—®ï¼š
   - "å‘¨å›´æœ‰ä»€ä¹ˆï¼Ÿ"
   - "æˆ¿é—´é‡Œæœ‰å“ªäº›ä¸œè¥¿ï¼Ÿ"
   - "æˆ‘èƒ½çœ‹åˆ°ä»€ä¹ˆï¼Ÿ"

6. æ™ºèƒ½ä½“ä¼šåŸºäºç¯å¢ƒæè¿°ç»™å‡ºè¯¦ç»†å›ç­”

#### æ–¹æ³•2: åˆ›å»ºè‡ªå®šä¹‰ç¯å¢ƒ

1. åœ¨"ğŸ‘ï¸ ç¯å¢ƒç®¡ç†"æ ‡ç­¾é¡µç‚¹å‡»"â• æ–°å»ºç¯å¢ƒ"

2. å¡«å†™ç¯å¢ƒä¿¡æ¯ï¼š
   ```
   ç¯å¢ƒåç§°: å›¾ä¹¦é¦†
   æ•´ä½“æè¿°: ä¸€ä¸ªå®‰é™çš„å¤§å­¦å›¾ä¹¦é¦†ï¼Œä¹¦æ¶æ—ç«‹ï¼Œé˜…è¯»åŒºåŸŸå®½æ•æ˜äº®
   æ°›å›´: å®‰é™ã€ä¸¥è‚ƒã€å­¦æœ¯æ°”æ¯æµ“åš
   å…‰ç…§: ç™½è‰²è§å…‰ç¯ç…§æ˜ï¼Œå…‰çº¿å‡åŒ€æ˜äº®
   å£°éŸ³: æåº¦å®‰é™ï¼Œå¶å°”æœ‰ç¿»ä¹¦å£°å’Œè½»å¾®è„šæ­¥å£°
   æ°”å‘³: ä¹¦ç±çš„çº¸é¦™å’Œæ·¡æ·¡çš„æœ¨è´¨é¦™å‘³
   ```

3. ç‚¹å‡»"ä¿å­˜"åˆ›å»ºç¯å¢ƒ

4. ç‚¹å‡»"â• æ·»åŠ ç‰©ä½“"ä¸ºç¯å¢ƒæ·»åŠ ç‰©ä½“ï¼š
   ```
   ç‰©ä½“åç§°: é˜…è§ˆæ¡Œ
   ç‰©ä½“æè¿°: é•¿æ–¹å½¢çš„æœ¨è´¨é˜…è§ˆæ¡Œï¼Œå¯å®¹çº³8äººåŒæ—¶å­¦ä¹ 
   ä½ç½®: é˜…è¯»åŒºä¸­å¤®
   å±æ€§: æè´¨:å®æœ¨, é¢œè‰²:æ·±æ£•è‰², çŠ¶æ€:æ•´æ´
   äº¤äº’æç¤º: å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»ã€å­¦ä¹ 
   ä¼˜å…ˆçº§: 85
   ```

5. é‡å¤æ­¥éª¤4æ·»åŠ æ›´å¤šç‰©ä½“ï¼ˆä¹¦æ¶ã€ç”µè„‘ã€çª—æˆ·ç­‰ï¼‰

### ç®¡ç†ç¯å¢ƒ

#### æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒ

åœ¨"ğŸ‘ï¸ ç¯å¢ƒç®¡ç†"æ ‡ç­¾é¡µä¸­ï¼Œç‚¹å‡»"ğŸ”„ åˆ·æ–°"æŒ‰é’®ï¼Œä¼šæ˜¾ç¤ºï¼š
- æ‰€æœ‰ç¯å¢ƒåˆ—è¡¨
- å½“å‰æ¿€æ´»çš„ç¯å¢ƒï¼ˆğŸŸ¢æ ‡è®°ï¼‰
- æ¯ä¸ªç¯å¢ƒçš„è¯¦ç»†ä¿¡æ¯
- æ¯ä¸ªç¯å¢ƒåŒ…å«çš„ç‰©ä½“

#### åˆ‡æ¢æ¿€æ´»ç¯å¢ƒ

è¦åˆ‡æ¢æ¿€æ´»çš„ç¯å¢ƒï¼Œéœ€è¦é€šè¿‡ä»£ç æˆ–æ•°æ®åº“ï¼š

```python
from database_manager import DatabaseManager

db = DatabaseManager()
# è·å–ç¯å¢ƒUUIDï¼ˆä»GUIæ˜¾ç¤ºçš„UUIDï¼‰
env_uuid = "ç¯å¢ƒUUIDå‰8ä½..."
# è®¾ç½®ä¸ºæ¿€æ´»
db.set_active_environment(env_uuid)
```

#### ä¿®æ”¹ç¯å¢ƒæˆ–ç‰©ä½“

ç›®å‰éœ€è¦é€šè¿‡æ•°æ®åº“ç®¡ç†å·¥å…·ç›´æ¥æ“ä½œï¼Œæœªæ¥ç‰ˆæœ¬ä¼šåœ¨GUIä¸­æ·»åŠ ç¼–è¾‘åŠŸèƒ½ã€‚

#### åˆ é™¤ç¯å¢ƒæˆ–ç‰©ä½“

åŒæ ·éœ€è¦é€šè¿‡æ•°æ®åº“æ“ä½œï¼š

```python
from database_manager import DatabaseManager

db = DatabaseManager()
# åˆ é™¤ç¯å¢ƒï¼ˆä¼šçº§è”åˆ é™¤æ‰€æœ‰ç‰©ä½“ï¼‰
db.delete_environment(env_uuid)
# åˆ é™¤ç‰©ä½“
db.delete_object(obj_uuid)
```

### æŸ¥çœ‹ä½¿ç”¨è®°å½•

ç‚¹å‡»"ğŸ“‹ ä½¿ç”¨è®°å½•"æŒ‰é’®å¯ä»¥æŸ¥çœ‹ï¼š
- æ‰€æœ‰è§†è§‰å·¥å…·è°ƒç”¨å†å²
- æ¯æ¬¡è°ƒç”¨çš„è¯¦ç»†ä¿¡æ¯ï¼š
  - è§¦å‘æ—¶é—´
  - ç”¨æˆ·æŸ¥è¯¢
  - ä½¿ç”¨çš„ç¯å¢ƒ
  - æŸ¥çœ‹çš„ç‰©ä½“
  - æä¾›çš„ä¸Šä¸‹æ–‡

## æŠ€æœ¯å®ç°

### å·¥ä½œæµç¨‹

```
ç”¨æˆ·è¾“å…¥
    â†“
å…³é”®è¯æ£€æµ‹ â”€â”€â†’ ä¸åŒ¹é… â”€â”€â†’ æ­£å¸¸å¯¹è¯æµç¨‹
    â†“ åŒ¹é…
è·å–æ¿€æ´»ç¯å¢ƒ
    â†“
è¯»å–ç¯å¢ƒæè¿°å’Œç‰©ä½“åˆ—è¡¨
    â†“
æ ¼å¼åŒ–ä¸ºè§†è§‰ä¸Šä¸‹æ–‡
    â†“
æ³¨å…¥åˆ°ç³»ç»Ÿæ¶ˆæ¯
    â†“
LLMåŸºäºè§†è§‰ä¸Šä¸‹æ–‡ç”Ÿæˆå›å¤
    â†“
è®°å½•ä½¿ç”¨æ—¥å¿—
```

### è§†è§‰ä¸Šä¸‹æ–‡æ ¼å¼

ç³»ç»Ÿä¼šå°†ç¯å¢ƒå’Œç‰©ä½“ä¿¡æ¯æ ¼å¼åŒ–ä¸ºä»¥ä¸‹ç»“æ„ï¼š

```
ã€æ™ºèƒ½ä½“è§†è§‰æ„ŸçŸ¥ã€‘

ç¯å¢ƒåç§°: å°å¯çš„æˆ¿é—´

æ•´ä½“æè¿°: è¿™æ˜¯ä¸€ä¸ªæ¸©é¦¨èˆ’é€‚çš„å­¦ç”Ÿå§å®¤ï¼Œçº¦15å¹³æ–¹ç±³...
æ°›å›´: æ¸©é¦¨ã€å®é™ã€å……æ»¡ä¹¦é¦™æ°”æ¯
å…‰ç…§: æŸ”å’Œçš„è‡ªç„¶å…‰ä»çª—æˆ·æ´’å…¥...
å£°éŸ³: å¶å°”èƒ½å¬åˆ°çª—å¤–é¸Ÿé¸£...
æ°”å‘³: ç©ºæ°”ä¸­å¼¥æ¼«ç€æ·¡æ·¡çš„ä¹¦é¦™...

å¯è§ç‰©ä½“ï¼ˆå…±7ä¸ªï¼‰:

  ğŸ”¹ ä¹¦æ¡Œ
     æè¿°: ä¸€å¼ ç®€çº¦çš„ç™½è‰²ä¹¦æ¡Œ...
     ä½ç½®: é çª—çš„ä½ç½®
     å±æ€§: æè´¨: å®æœ¨, é¢œè‰²: ç™½è‰²
     äº¤äº’: å¯ä»¥åœ¨è¿™é‡Œå­¦ä¹ ã€å†™ä½œä¸š

  ğŸ”¹ ä¹¦æ¶
     æè¿°: ä¸€ä¸ªå››å±‚çš„ç™½è‰²ä¹¦æ¶...
     ...

ğŸ’¡ è¯·åŸºäºä»¥ä¸Šè§†è§‰æ„ŸçŸ¥ä¿¡æ¯å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚
```

### ä»£ç é›†æˆ

#### åœ¨ChatAgentä¸­çš„é›†æˆ

```python
# chat_agent.py

def chat(self, user_input: str) -> str:
    # 1. æ£€æŸ¥æ˜¯å¦éœ€è¦è§†è§‰
    vision_context = self.vision_tool.get_vision_context(user_input)
    
    # 2. å¦‚æœéœ€è¦ï¼Œæ·»åŠ åˆ°æ¶ˆæ¯åˆ—è¡¨
    if vision_context:
        vision_prompt = self.vision_tool.format_vision_prompt(vision_context)
        messages.append({'role': 'system', 'content': vision_prompt})
    
    # 3. æ­£å¸¸å¤„ç†å¯¹è¯
    response = self.llm.chat(messages)
    return response
```

#### è‡ªå®šä¹‰ä½¿ç”¨è§†è§‰å·¥å…·

```python
from agent_vision import AgentVisionTool
from database_manager import DatabaseManager

# åˆ›å»ºå·¥å…·
db = DatabaseManager()
vision_tool = AgentVisionTool(db_manager=db)

# åˆ›å»ºç¯å¢ƒ
env_uuid = db.create_environment(
    name="åŠå…¬å®¤",
    overall_description="ä¸€ä¸ªç°ä»£åŒ–çš„å¼€æ”¾å¼åŠå…¬å®¤",
    atmosphere="å¿™ç¢Œã€æœ‰æ´»åŠ›",
    lighting="æ˜äº®çš„LEDç¯å…‰"
)

# æ·»åŠ ç‰©ä½“
db.add_environment_object(
    environment_uuid=env_uuid,
    name="å·¥ä½œç«™",
    description="é…å¤‡åŒæ˜¾ç¤ºå™¨çš„å·¥ä½œç«™",
    position="é çª—",
    priority=90
)

# æ¿€æ´»ç¯å¢ƒ
db.set_active_environment(env_uuid)

# è·å–è§†è§‰ä¸Šä¸‹æ–‡
vision_context = vision_tool.get_vision_context("åŠå…¬å®¤é‡Œæœ‰ä»€ä¹ˆï¼Ÿ")
formatted = vision_tool.format_vision_prompt(vision_context)
print(formatted)
```

## Debugæ¨¡å¼

å¯ç”¨DEBUG_MODEåï¼Œä¼šè®°å½•è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ï¼š

```python
# .envæ–‡ä»¶
DEBUG_MODE=True

# æ—¥å¿—å†…å®¹ç¤ºä¾‹
[2025-11-17 15:45:10] [module] AgentVisionTool
æ£€æŸ¥æ˜¯å¦éœ€è¦ä½¿ç”¨è§†è§‰å·¥å…·
| query_length: 12

[2025-11-17 15:45:10] [info] AgentVisionTool
æ£€æµ‹åˆ°ç¯å¢ƒç›¸å…³å…³é”®è¯
| keyword: å‘¨å›´
| query: å‘¨å›´æœ‰ä»€ä¹ˆï¼Ÿ

[2025-11-17 15:45:10] [info] AgentVisionTool
æ‰¾åˆ°æ¿€æ´»çš„ç¯å¢ƒ
| env_name: å°å¯çš„æˆ¿é—´
| env_uuid: aa91e0fb...

[2025-11-17 15:45:10] [info] ChatAgent
è§†è§‰å·¥å…·å·²è§¦å‘
| environment: å°å¯çš„æˆ¿é—´
| objects_count: 7
```

## æœ€ä½³å®è·µ

### 1. ç¯å¢ƒè®¾è®¡å»ºè®®

**å¥½çš„ç¯å¢ƒæè¿°ï¼š**
- âœ… è¯¦ç»†å…·ä½“ï¼š"ä¸€ä¸ªçº¦15å¹³æ–¹ç±³çš„æ¸©é¦¨å§å®¤"
- âœ… åŒ…å«æ„Ÿå®˜ç»†èŠ‚ï¼šå…‰ç…§ã€å£°éŸ³ã€æ°”å‘³
- âœ… ç¬¦åˆè§’è‰²èƒŒæ™¯ï¼š"å­¦ç”Ÿçš„æˆ¿é—´"ã€"å†å²è€å¸ˆçš„ä¹¦æˆ¿"

**ä¸å¥½çš„ç¯å¢ƒæè¿°ï¼š**
- âŒ è¿‡äºç®€å•ï¼š"ä¸€ä¸ªæˆ¿é—´"
- âŒ ç¼ºä¹ç»†èŠ‚ï¼š"æœ‰æ¡Œå­å’Œæ¤…å­"
- âŒ ä¸ç¬¦åˆè§’è‰²ï¼š"CEOçš„è±ªååŠå…¬å®¤"ï¼ˆè§’è‰²æ˜¯å­¦ç”Ÿï¼‰

### 2. ç‰©ä½“é…ç½®æŠ€å·§

**ä¼˜å…ˆçº§è®¾ç½®ï¼š**
- 90-100: æ ¸å¿ƒç‰©ä½“ï¼Œå¿…é¡»æåŠï¼ˆä¸»æ¡Œå­ã€ä¸»åºŠç­‰ï¼‰
- 70-89: é‡è¦ç‰©ä½“ï¼Œç»å¸¸ä¼šæåŠï¼ˆä¹¦æ¶ã€ç”µè„‘ç­‰ï¼‰
- 50-69: æ™®é€šç‰©ä½“ï¼Œå¶å°”æåŠï¼ˆå°ç¯ã€æŒ‚é’Ÿç­‰ï¼‰
- 30-49: æ¬¡è¦ç‰©ä½“ï¼Œå¾ˆå°‘æåŠï¼ˆè£…é¥°å“ç­‰ï¼‰
- 0-29: èƒŒæ™¯ç‰©ä½“ï¼Œå‡ ä¹ä¸æåŠï¼ˆåœ°æ¿ã€å¢™å£ç­‰ï¼‰

**ç‰©ä½“æ•°é‡å»ºè®®ï¼š**
- å°æˆ¿é—´: 5-10ä¸ªç‰©ä½“
- ä¸­ç­‰æˆ¿é—´: 10-15ä¸ªç‰©ä½“
- å¤§ç©ºé—´: 15-20ä¸ªç‰©ä½“
- è¶…è¿‡20ä¸ªå¯èƒ½å½±å“æ€§èƒ½å’Œå¯è¯»æ€§

### 3. æ€§èƒ½ä¼˜åŒ–

**å»ºè®®ï¼š**
- åªæ¿€æ´»ä¸€ä¸ªç¯å¢ƒ
- æ§åˆ¶ç‰©ä½“æ•°é‡åœ¨åˆç†èŒƒå›´
- ä½¿ç”¨ä¼˜å…ˆçº§ç­›é€‰é‡è¦ç‰©ä½“
- å¯¹ä¸é‡è¦çš„ç‰©ä½“è®¾ç½®is_visible=0

**æ•°æ®åº“ä¼˜åŒ–ï¼š**
- å®šæœŸæ¸…ç†æ—§çš„ä½¿ç”¨è®°å½•
- åˆ é™¤ä¸ç”¨çš„ç¯å¢ƒ
- ä¿æŒç´¢å¼•å®Œæ•´æ€§

## å¸¸è§é—®é¢˜

### Q1: è§†è§‰å·¥å…·æ²¡æœ‰è§¦å‘ï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æ˜¯å¦æœ‰æ¿€æ´»çš„ç¯å¢ƒï¼Ÿè¿è¡Œï¼š
   ```python
   db = DatabaseManager()
   env = db.get_active_environment()
   print(env)
   ```
2. æŸ¥è¯¢æ˜¯å¦åŒ…å«ç¯å¢ƒå…³é”®è¯ï¼Ÿæµ‹è¯•ï¼š
   ```python
   vision_tool.should_use_vision("ä½ çš„æŸ¥è¯¢")
   ```
3. æŸ¥çœ‹Debugæ—¥å¿—äº†è§£è¯¦ç»†åŸå› 

### Q2: å¦‚ä½•æ·»åŠ æ›´å¤šç¯å¢ƒå…³é”®è¯ï¼Ÿ

**A:** ç¼–è¾‘`agent_vision.py`æ–‡ä»¶ï¼š
```python
self.environment_keywords = [
    # ç°æœ‰å…³é”®è¯...
    'ä½ çš„æ–°å…³é”®è¯1',
    'ä½ çš„æ–°å…³é”®è¯2',
]
```

### Q3: å¯ä»¥æœ‰å¤šä¸ªæ¿€æ´»ç¯å¢ƒå—ï¼Ÿ

**A:** ä¸å¯ä»¥ï¼Œç³»ç»Ÿè®¾è®¡åªå…è®¸ä¸€ä¸ªæ¿€æ´»ç¯å¢ƒã€‚è¿™æ˜¯ä¸ºäº†é¿å…æ··æ·†å’Œç¡®ä¿ä¸€è‡´æ€§ã€‚

### Q4: å¦‚ä½•å¯¼å‡º/å¯¼å…¥ç¯å¢ƒï¼Ÿ

**A:** ç›®å‰éœ€è¦é€šè¿‡æ•°æ®åº“æ“ä½œï¼š
```python
import json
db = DatabaseManager()

# å¯¼å‡º
env = db.get_environment(env_uuid)
objects = db.get_environment_objects(env_uuid)
data = {'environment': env, 'objects': objects}
with open('env_export.json', 'w') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

# å¯¼å…¥
with open('env_export.json', 'r') as f:
    data = json.load(f)
# é‡å»ºç¯å¢ƒå’Œç‰©ä½“...
```

### Q5: è§†è§‰å·¥å…·ä¼šå½±å“æ€§èƒ½å—ï¼Ÿ

**A:** å½±å“å¾ˆå°ï¼š
- å…³é”®è¯æ£€æµ‹: <1ms
- æ•°æ®åº“æŸ¥è¯¢: 1-5ms
- ä¸Šä¸‹æ–‡æ ¼å¼åŒ–: <1ms
- æ€»é¢å¤–æ—¶é—´: <10ms

ä¸»è¦å¼€é”€åœ¨LLM APIè°ƒç”¨ï¼ˆé€šå¸¸1-3ç§’ï¼‰ï¼Œè§†è§‰å·¥å…·çš„å½±å“å¯å¿½ç•¥ã€‚

## æ›´æ–°æ—¥å¿—

### v1.0 (2025-11-17)
- âœ¨ é¦–æ¬¡å‘å¸ƒæ™ºèƒ½ä½“ä¼ªè§†è§‰åŠŸèƒ½
- âœ¨ æ”¯æŒç»“æ„åŒ–ç¯å¢ƒæè¿°
- âœ¨ æ”¯æŒç‰©ä½“è¯¦ç»†ä¿¡æ¯
- âœ¨ GUIç¯å¢ƒç®¡ç†ç•Œé¢
- âœ¨ è‡ªåŠ¨è§¦å‘æœºåˆ¶
- âœ¨ ä½¿ç”¨è®°å½•è¿½è¸ª
- âœ¨ Debugæ¨¡å¼æ”¯æŒ

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªåŠŸèƒ½ï¼

å¯èƒ½çš„æ”¹è¿›æ–¹å‘ï¼š
- æ”¯æŒå¤šç¯å¢ƒåˆ‡æ¢åŠ¨ç”»
- æ·»åŠ ç¯å¢ƒæ¨¡æ¿åº“
- æ”¯æŒç¯å¢ƒå¯¼å…¥å¯¼å‡º
- æ·»åŠ ç‰©ä½“äº¤äº’äº‹ä»¶
- æ”¯æŒç¯å¢ƒå†å²å›æº¯
- æ·»åŠ ç¯å¢ƒç¼–è¾‘GUI

## è®¸å¯è¯

MIT License - è¯¦è§é¡¹ç›®æ ¹ç›®å½•çš„LICENSEæ–‡ä»¶
