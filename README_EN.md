# Neo Agent - Intelligent Dialogue Agent System

English | [ç®€ä½“ä¸­æ–‡](README.md)

Neo Agent is an intelligent dialogue agent system based on LangChain, featuring role-playing, long-term memory management, emotional relationship analysis, and intelligent schedule management. Through hierarchical memory architecture, knowledge base management, and event-driven systems, it delivers an intelligent conversation experience with persistent memory capabilities and multi-modal interaction.

## âœ¨ Key Features

### ğŸ§  Hierarchical Memory System
- **Short-term Memory**: Stores detailed content of the last 20 conversation rounds
- **Long-term Memory**: Automatically generates summaries of historical conversations
- **Knowledge Base**: Extracts and persists knowledge from conversations
- **Base Knowledge**: Preset immutable core knowledge (highest priority)

### ğŸ’­ Intelligent Conversation
- **Role-playing**: Support for custom character settings, personalities, and backgrounds
- **Continuous Dialogue**: Context-aware multi-turn conversations
- **Memory Retrieval**: Intelligent recall of relevant historical memories
- **Emotional Understanding**: Analyzes emotional tendencies in conversations

### ğŸ“Š Emotional Relationship Analysis
- **Impression Evaluation**: Generate detailed impressions of users based on character settings
- **Cumulative Scoring**: Maintains an accumulated emotion score (0-100)
  - Initial Assessment (after 5 rounds): Generates base score of 0-35
  - Update Assessment (every 15 rounds): Incremental adjustment of -3 to +3
- **Visual Display**: Score ring for intuitive emotional relationship status visualization
- **Relationship Classification**: Summarizes relationship type and emotional tone

### ğŸ–¥ï¸ Graphical User Interface
- **Modern Interface**: User-friendly GUI based on Tkinter
- **Real-time Chat**: Smooth chat experience
- **Data Visualization**: Emotion radar chart, timeline display
- **Independent Feature Tabs**:
  - ğŸ“… Schedule Management: Standalone schedule management function
  - ğŸ“‹ Event Management: Event creation, triggering, and management
  - ğŸ’¾ Database Management: Visual management of all stored data
  - ğŸ”§ Debug Logs: Real-time system logs and API call monitoring

### ğŸ—„ï¸ Data Management
- **SQLite Storage**: Unified database management
- **Data Migration**: Automatic migration from JSON to database
- **Backup & Restore**: Complete data import/export
- **Query Optimization**: Efficient data retrieval

### ğŸ“… Event-Driven System
- **Notification Events**: Agent immediately understands and explains external information
- **Task Events**: Multi-agent collaboration for complex tasks
  - Understanding Agent: Analyzes task requirements
  - Planning Agent: Breaks down tasks into steps
  - Execution Agent: Completes tasks step by step
  - Verification Agent: Validates task completion
- **Interrupt Questions**: Ask users for information during task execution
- **Narrator-style Progress**: Real-time task processing progress display
- **Visual Management**: GUI interface for managing and triggering events

### ğŸ“† Intelligent Schedule Management
- **Three Schedule Types**:
  - Recurring: Repeatable fixed schedules (e.g., weekly class schedule), CRITICAL priority
  - Appointment: Created by user mention or intent recognition, MEDIUM priority
  - Temporary: Auto-generated by LLM during free time slots, LOW priority
- **Smart Conflict Detection**: Auto-detects time conflicts, higher priority overrides lower
- **Similarity Check**: Uses LLM to detect similar schedules on the same day, intelligently decides which to keep
- **Collaboration Confirmation**: Temporary schedules involving user participation require confirmation
- **Natural Language Recognition**: Understands expressions like "meeting at 3pm tomorrow"
- **Smart Generation**: Auto-generates activities matching character traits when querying schedules
- **Context Integration**: Schedule info naturally integrates into conversations
- **Standalone GUI Management**: Complete CRUD interface, filters, collaboration confirmation

### ğŸ‘ï¸ Environment Domain System
- **Environment Description**: Simulates agent's visual perception capability
- **Domain Concept**: Organizes multiple environments into a whole
  - Example: "Xiao Ke's Home" = Bedroom + Living Room + Kitchen
- **Precision Control**:
  - Low Precision (Domain Level): "Where are you?" â†’ "I'm at Xiao Ke's home"
  - High Precision (Environment Level): "What's around?" â†’ Detailed environment description
- **Inter-domain Navigation**: Supports automatic positioning to default environment when switching domains
- **LLM Smart Detection**: Understands semantics, recognizes implicit environment information needs

### ğŸ¨ Personalized Expression System
- **Agent Expression Management**: Define personalized expressions like 'wc', 'hhh' with meanings
- **User Habit Learning**: Automatically identify and summarize user expression habits
- **Dynamic Prompt Injection**: Integrate expression style into conversation generation

### ğŸ”§ Development Tools
- **Debug Logging**: Detailed system operation logs
- **Flexible Configuration**: Easy setup through environment variables
- **Tooltips**: GUI interface ToolTip hints

## ğŸ“‹ System Requirements

- Python 3.8 or higher
- Supported OS: Windows, Linux, macOS

## ğŸš€ Quick Start

### 1. Clone the Repository

```bash
git clone https://github.com/HeDaas-Code/Neo_Agent.git
cd Neo_Agent
```

### 2. Install Dependencies

```bash
pip install -r requirements.txt
```

### 3. Configure Environment Variables

Copy `example.env` to `.env` and fill in your configuration:

```bash
cp example.env .env
```

Edit the `.env` file with necessary parameters:

```env
# API Configuration
SILICONFLOW_API_KEY=your-api-key-here
SILICONFLOW_API_URL=https://api.siliconflow.cn/v1/chat/completions

# Model Configuration
MODEL_NAME=deepseek-ai/DeepSeek-V3
TEMPERATURE=0.8
MAX_TOKENS=2000

# Character Settings
CHARACTER_NAME=Xiao Ke
CHARACTER_GENDER=Female
CHARACTER_AGE=18
CHARACTER_ROLE=Student
CHARACTER_PERSONALITY=Lively and cheerful
```

### 4. Run the Application

```bash
python gui_enhanced.py
```

## ğŸ“– Documentation

> ğŸ“š **[Complete Documentation Index](docs/INDEX.md)** - View structured directory of all documentation

### Core Documentation

- [Quick Start Guide](docs/en/QUICKSTART.md) - Detailed installation and usage instructions
- [Development Guide](docs/en/DEVELOPMENT.md) - Project structure and development guide
- [API Documentation](docs/en/API.md) - Detailed API interface documentation
- [Architecture Design](docs/en/ARCHITECTURE.md) - System architecture and design principles

### Advanced Features

- [Event System Documentation](docs/en/EVENT_SYSTEM.md) - Event-driven module usage guide
- [Event System Architecture](docs/en/ARCHITECTURE_EVENT_SYSTEM.md) - Event system architecture diagrams
- [Domain Feature](docs/en/DOMAIN_FEATURE.md) - Environment domain system guide
- [GUI Domain Management](docs/en/GUI_DOMAIN_FEATURE.md) - Visual domain management interface

### More Documentation

All documentation has been organized in the [docs](docs/) folder with bilingual support (Chinese and English).

## ğŸ—ï¸ Project Structure

```
Neo_Agent/
â”œâ”€â”€ gui_enhanced.py              # Main GUI interface
â”œâ”€â”€ chat_agent.py               # Dialogue agent core
â”œâ”€â”€ database_manager.py         # Database management
â”œâ”€â”€ database_gui.py             # Database GUI management
â”œâ”€â”€ long_term_memory.py         # Long-term memory management
â”œâ”€â”€ knowledge_base.py           # Knowledge base management
â”œâ”€â”€ base_knowledge.py           # Base knowledge (immutable core)
â”œâ”€â”€ emotion_analyzer.py         # Emotional analysis
â”œâ”€â”€ agent_vision.py             # Vision tools (environment domain)
â”œâ”€â”€ event_manager.py            # Event management
â”œâ”€â”€ multi_agent_coordinator.py  # Multi-agent collaboration
â”œâ”€â”€ interrupt_question_tool.py  # Interrupt question tool
â”œâ”€â”€ schedule_manager.py         # Schedule management core
â”œâ”€â”€ schedule_gui.py             # Schedule management standalone GUI
â”œâ”€â”€ schedule_intent_tool.py     # Schedule intent recognition
â”œâ”€â”€ schedule_generator.py       # Temporary schedule generation
â”œâ”€â”€ schedule_similarity_checker.py  # Schedule similarity check
â”œâ”€â”€ expression_style.py         # Expression style management
â”œâ”€â”€ debug_logger.py             # Debug logging
â”œâ”€â”€ tooltip_utils.py            # Tooltip components
â”œâ”€â”€ tests/                      # Unit test directory
â”œâ”€â”€ docs/                       # Documentation (bilingual)
â”œâ”€â”€ requirements.txt            # Project dependencies
â”œâ”€â”€ example.env                 # Environment variable example
â””â”€â”€ README.md                   # Project documentation
```

## ğŸ¯ Use Cases

- **Personal Assistant**: AI assistant with memory capabilities
- **Role-playing**: Create conversational characters with specific personas
- **Customer Service**: Intelligent customer service that remembers user history
- **Learning Companion**: Learning assistant that accumulates knowledge
- **Emotional Support**: Companion bot that understands and responds to emotions

## âš™ï¸ Core Configuration

### Character Settings
Configure character basics through the `.env` file:
- `CHARACTER_NAME`: Character name
- `CHARACTER_GENDER`: Gender
- `CHARACTER_AGE`: Age
- `CHARACTER_ROLE`: Role positioning
- `CHARACTER_PERSONALITY`: Personality traits
- `CHARACTER_HOBBY`: Hobbies and specialties
- `CHARACTER_BACKGROUND`: Detailed background description

### Memory Settings
- `MAX_MEMORY_MESSAGES`: Maximum memory messages (default 50)
- `MAX_SHORT_TERM_ROUNDS`: Short-term memory rounds (default 20)

### Model Settings
- `MODEL_NAME`: LLM model to use
- `TEMPERATURE`: Generation temperature (0-1)
- `MAX_TOKENS`: Maximum generation length

## ğŸ” Feature Showcase

### Chat Interface
- Real-time conversation support
- Historical message display
- Automatic conversation logging
- Role-playing conversations

### Emotional Analysis
- Click "Analyze Emotional Relationship" button
- View impression score and detailed impression description
- Understand current emotional state and relationship type
- Cumulative scoring system (0-100)

### Schedule Management
- Standalone "ğŸ“… Schedule Management" tab
- Add/Edit/Delete schedules
- Filters (by type/date/status)
- Collaboration confirmation

### Event Management
- Create notification/task events
- Trigger events and view processing results
- Multi-agent collaboration for complex tasks

### Database Management
- View all memory data
- Manage knowledge base content
- Environment domain management
- Import/export data

## ğŸ› ï¸ Development

### Debug Mode
Enable debug mode to view detailed logs:

```env
DEBUG_MODE=True
DEBUG_LOG_FILE=debug.log
```

### Extension Development
1. Check [Development Guide](docs/en/DEVELOPMENT.md) for project structure
2. Refer to [API Documentation](docs/en/API.md) for interface definitions
3. Read [Architecture Design](docs/en/ARCHITECTURE.md) for system design

## ğŸ¤ Contributing

Contributions, issues, and feature requests are welcome!

1. Fork this repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“ License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- [LangChain](https://github.com/langchain-ai/langchain) - Powerful LLM application framework
- [SiliconFlow](https://siliconflow.cn/) - API service provider
- All contributors and supporters

## ğŸ“§ Contact

For questions or suggestions, please contact us through:

- Submit an [Issue](https://github.com/HeDaas-Code/Neo_Agent/issues)
- Start a [Discussion](https://github.com/HeDaas-Code/Neo_Agent/discussions)

## ğŸŒŸ Star History

If this project helps you, please give it a â­ï¸!

---

Powered by â¤ï¸, Built for Intelligent Conversation
